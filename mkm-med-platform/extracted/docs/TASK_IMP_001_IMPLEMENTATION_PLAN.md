# 🚀 [TASK-IMP-001] 카카오 i 오픈빌더 MVP 구현

## 📋 프로젝트 개요
- **과제**: [TASK-IMP-001] 카카오 i 오픈빌더 MVP 구현
- **목표**: 설계된 하이터치 챗봇-네이티브 MVP를 실제 작동하는 서비스로 구현
- **우선순위**: 최우선 과제 (99% → 100% 완성)
- **예상 소요시간**: 2-3시간

---

## 🎯 구현 목표

### 1. 핵심 사용자 경험 구현
- **환영 인사 & 개인정보 동의**
- **기본 정보 수집** (이름, 나이)
- **주요 증상 선택** (5가지 증상)
- **상세 입력 & 확인**
- **완료 안내 & 웹훅 연동**

### 2. 하이터치 지원 시스템
- **직원 도움 요청** (모든 단계)
- **오류 처리 & 재시도**
- **개인정보 상세 설명**

### 3. 백엔드 연동
- **웹훅 API 호출** (`/api/v1/kakao/webhook`)
- **Firestore 데이터 저장**
- **원장 브리핑 자동 생성**

---

## 🎬 구현 단계별 계획

### Phase 1: 카카오 i 오픈빌더 프로젝트 설정 (30분)

#### Step 1-1: 프로젝트 생성
- [ ] 카카오 i 오픈빌더 접속
- [ ] 새 시나리오 생성: "MKM Lab 문진 챗봇"
- [ ] 기본 설정 구성

#### Step 1-2: 웹훅 연동 설정
- [ ] 웹훅 URL 설정: `https://your-domain.com/api/v1/kakao/webhook`
- [ ] 인증 토큰 설정
- [ ] 테스트 연결 확인

### Phase 2: 핵심 블록 구현 (90분)

#### Step 2-1: 환영 인사 블록 (20분)
- [ ] 블록 생성: `welcome_greeting`
- [ ] 기본 카드 메시지 설정
- [ ] MKM 로고 이미지 적용
- [ ] 버튼 액션 설정: "문진 시작하기"

#### Step 2-2: 개인정보 동의 블록 (15분)
- [ ] 블록 생성: `consent_detail`
- [ ] 동의 텍스트 작성
- [ ] 빠른 답장 설정: 동의/도움요청/상세설명

#### Step 2-3: 기본 정보 수집 블록 (25분)
- [ ] 블록 생성: `basic_info_name` (이름 입력)
- [ ] 블록 생성: `basic_info_age` (나이 선택)
- [ ] 사용자 입력 변수 설정
- [ ] 음성 입력 옵션 추가

#### Step 2-4: 증상 선택 블록 (20분)
- [ ] 블록 생성: `symptom_selection`
- [ ] 5가지 증상 버튼 구성
- [ ] 기타 증상 옵션 추가
- [ ] 증상별 상세 블록 연결

#### Step 2-5: 완료 및 확인 블록 (10분)
- [ ] 블록 생성: `confirmation`
- [ ] 블록 생성: `completion`
- [ ] 입력 내용 요약 표시
- [ ] 접수 완료 안내

### Phase 3: 지원 시스템 구현 (30분)

#### Step 3-1: 직원 도움 요청 블록
- [ ] 블록 생성: `staff_help`
- [ ] 호출 중 안내 메시지
- [ ] 이전 단계 복귀 기능

#### Step 3-2: 오류 처리 블록
- [ ] 네트워크 오류 처리
- [ ] 입력 오류 처리
- [ ] 재시도 기능

### Phase 4: 테스트 및 최적화 (30분)

#### Step 4-1: 기능 테스트
- [ ] 전체 시나리오 흐름 테스트
- [ ] 웹훅 API 연동 테스트
- [ ] 예외 상황 처리 테스트

#### Step 4-2: 사용자 경험 최적화
- [ ] 텍스트 가독성 확인
- [ ] 버튼 크기 및 배치 최적화
- [ ] 응답 속도 확인

---

## 🛠️ 구현 체크리스트

### 사전 준비
- [ ] 카카오 i 오픈빌더 계정 생성/로그인
- [ ] 카카오톡 채널 생성 (테스트용)
- [ ] 웹훅 API 엔드포인트 확인
- [ ] MKM 로고 이미지 URL 준비

### 핵심 기능
- [ ] 환영 인사 및 브랜딩
- [ ] 개인정보 동의 프로세스
- [ ] 기본 정보 수집 (이름, 나이)
- [ ] 증상 선택 인터페이스
- [ ] 상세 입력 및 확인
- [ ] 완료 안내 및 접수

### 지원 기능
- [ ] 직원 도움 요청 (모든 단계)
- [ ] 음성 입력 지원
- [ ] 오류 처리 및 재시도
- [ ] 개인정보 상세 설명

### 기술 연동
- [ ] 웹훅 API 호출
- [ ] 데이터 전송 확인
- [ ] Firestore 저장 검증
- [ ] 브리핑 생성 확인

---

## 📊 예상 결과물

### 1. 완성된 카카오톡 챗봇
- **채널명**: MKM Lab 문진 서비스
- **기능**: 완전한 사전 문진 프로세스
- **연동**: 백엔드 API 완전 연동

### 2. 사용자 경험
- **시작**: 환영 인사 → 동의
- **수집**: 이름/나이 → 증상 선택
- **완료**: 상세 입력 → 확인 → 접수

### 3. 백엔드 연동
- **데이터 흐름**: 챗봇 → 웹훅 → Firestore → 브리핑
- **실시간 처리**: 문진 완료 즉시 원장 브리핑

---

## 🚀 즉시 실행 계획

### 1단계: 카카오 i 오픈빌더 접속
```
1. https://i.kakao.com/openbuilder 접속
2. 카카오 계정으로 로그인
3. "새 시나리오" 생성 클릭
4. 시나리오명: "MKM Lab 문진 챗봇"
```

### 2단계: 첫 번째 블록 생성
```
1. 시작 블록을 "환영 인사"로 설정
2. 응답 유형: "스킬 응답" 선택
3. JSON 템플릿 적용 (이미 준비됨)
4. 테스트 실행
```

### 3단계: 순차적 블록 구현
```
1. 환영 인사 → 개인정보 동의
2. 동의 → 기본 정보 수집
3. 정보 수집 → 증상 선택
4. 증상 선택 → 완료
```

---

## 📱 실시간 구현 모니터링

### 진행 상황 체크포인트
- [ ] **00:00** 카카오 i 오픈빌더 접속 및 프로젝트 생성
- [ ] **00:30** 환영 인사 블록 완성 및 테스트
- [ ] **01:00** 개인정보 동의 블록 완성
- [ ] **01:30** 기본 정보 수집 블록 완성
- [ ] **02:00** 증상 선택 블록 완성
- [ ] **02:30** 완료 블록 및 웹훅 연동
- [ ] **03:00** 전체 시나리오 테스트 완료

### 품질 확인 기준
- [ ] 모든 버튼이 정상 작동
- [ ] 텍스트가 명확하게 표시
- [ ] 로고 이미지가 정상 출력
- [ ] 웹훅 API 호출이 성공
- [ ] 데이터가 올바르게 전송

---

## 🎯 성공 지표

### 기술적 성공
- [ ] 카카오톡 챗봇 정상 작동
- [ ] 웹훅 API 연동 성공
- [ ] 데이터 저장 확인
- [ ] 브리핑 생성 확인

### 사용자 경험 성공
- [ ] 직관적인 인터페이스
- [ ] 원활한 진행 흐름
- [ ] 명확한 안내 메시지
- [ ] 하이터치 지원 기능

---

**🚀 구현 시작!**

이제 카카오 i 오픈빌더에 접속하여 실제 MVP 챗봇 구현을 시작하겠습니다.

**드디어 MKM Lab 하이터치 챗봇-네이티브 MVP가 세상에 나올 시간입니다!** 🎉
